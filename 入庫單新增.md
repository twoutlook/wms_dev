# 入庫單新增 FrmINBILLEdit
新增和編輯都調用 FrmINBILLEdit

## TODO
  * 1.页面新增货主栏位
  * 2.選擇入庫通知單後,如同更新[入库类型]、[作业方式]的做法,更新[货主]

## 入庫通知單 空格點擊會彈出
### txtCASNID
* 
    
```
   txtCASNID.Attributes["onclick"] = "Show('" + ucINASN_Div.GetDivName + "');";
    
```
  *    <ucIA:ShowINASN ID="ucINASN_Div" runat="server" />


```
     IGenericRepository<INASN> conn = new GenericRepository<INASN>(db);
        var caseList = from p in conn.Get()
                       where p.cstatus !="3"
                       select p;
```




* txtINASN_id
```
      this.WriteScript("PopupFloatWinMax('" + BuildRequestPageURL("FrmINBILL_DEdit.aspx", SYSOperation.New, this.KeyID) + "&Inasn_id=" + txtINASN_id.Text.Trim() + "&InType=" + ddlIType.SelectedValue + "&TradeCode=" + txtCDEFINE1.Text.Trim() + "&Currency=" + txtCDEFINE2.Text.Trim() + "','入庫單明細','INBILL_D');");
   ```  

# TODO 使用了 js 和 本頁面的簡易 
## GetInAsnInfoById
## GetInAsnInfoById.aspx

```
   if (dt.Rows.Count > 0)
                {
                    //主表ERP单号
                    sb.Append(dt.Rows[0]["CERPCODE"].ToString() + "|");
                    //贸易代码
                    sb.Append(dt.Rows[0]["CDEFINE1"].ToString() + "|");
                    //币别
                    sb.Append(dt.Rows[0]["CDEFINE2"].ToString() + "|");
                    //入库类型
                    sb.Append(dt.Rows[0]["ITYPE"].ToString() + "|");
                    //备注
                    sb.Append(dt.Rows[0]["CMEMO"].ToString() + "|");
                }
               ```
